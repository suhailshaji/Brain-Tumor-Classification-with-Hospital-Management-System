<!DOCTYPE html>
<html lang="en">


<!-- index22:59-->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
  
    <link rel="shortcut" type="image/x-icon"  href= "{{ url_for('static',filename='../static/assets/img/favicon.ico') }}">
    <title>Hospital Management System</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='../static/assets/css/bootstrap.min.css')}}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='../static/assets/css/font-awesome.min.css')}}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='../static/assets/css/style.css')}}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">


    <!--[if lt IE 9]>
		<script src="assets/js/html5shiv.min.js"></script>
		<script src="assets/js/respond.min.js"></script>
	<![endif]-->
</head>
<style>
    #dob_formatted {
        color: green;
    }
</style>
<body>
<div class="main-wrapper">
    <div class="header">
        <div class="header-left">
            <a href="index-2.html" class="logo">
                <img src="{{ url_for('static',filename='../static/assets/img/logo.png')}}" width="35" height="35" alt=""> <span>HMS</span>
            </a>
        </div>
        <div class="sidebar" id="sidebar">
            <div class="sidebar-inner slimscroll">
                <div id="sidebar-menu" class="sidebar-menu">
                    <ul>
                        <li class="menu-title">Main</li>
                        <li>
                            <a href="/login"><i class="fa fa-user"></i> <span>Login</span></a>
                        </li>
						
                      
                    </li> 
                </ul>
            </li>
        </ul>
    </div>
</div>
</div>
<div class="page-wrapper">
    <div class="content">
        <div class="row">
            <div class="col-lg-12 offset-lg-2">
                <h4 class="page-title">Register</h4>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-8 offset-lg-2">
                <form action="/register_patient" method="POST">
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>First Name <span class="text-danger">*</span></label>
                                <input class="form-control" type="text" name="first_name">
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>Last Name</label>
                                <input class="form-control" type="text" name="last_name">
                            </div>
                        </div>
                        
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>Email <span class="text-danger">*</span></label>
                                <input class="form-control" type="email" name="email">
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>
                                    Password
                                    <i class="far fa-eye toggle-password-btn"></i>
                                </label>
                                <div class="input-group">
                                    <input type="password" class="form-control" id="password-input"  name="password">
                                    <div class="input-group-append">
                                        <button type="button" class="btn btn-primary generate-password-btn">
                                            <i class="fas fa-random"></i> Generate
                                        </button>
                                    </div>
                                </div>
                                <small id="password-info" class="form-text text-muted"></small>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>Date of Birth</label>
                                <div class="cal-icon">
                                    <input type="text" class="form-control" name="date_of_birth" id="date_of_birth_input">
                                </div>
                                <div id="dob_formatted"></div>
                         
                            </div>
                          
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group gender-select">
                                <label class="gen-label">Gender:</label>
                                <div class="form-check-inline">
                                    <label class="form-check-label">
                                        <input type="radio" name="gender"  class="form-check-input" value="Male">Male
                                    </label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label">
                                        <input type="radio" name="gender" class="form-check-input" value="Female">Female
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label>Address</label>
                                        <input type="text" class="form-control" name="address">
                                    </div>
                                </div>
                                <div class="col-sm-6 col-md-6 col-lg-3">
                                    <div class="form-group">
                                        <label>Country</label>
                                        <select class="form-control select" name="country" id="country-select">
                                            <option value="India">India</option>
                                            <option>USA</option>
                                            <option>United Kingdom</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-md-6 col-lg-3">
                                    <div class="form-group">
                                        <label>City</label>
                                    <select class="form-control select" id="city-select" name="city">
                                        <option value="">Select City</option>
                                    </select>
                             </div></div>
                                <div class="col-sm-6 col-md-6 col-lg-3">
                                    <div class="form-group">
                                        <label>State/Province</label>
                                         <select class="form-control select" name="state" id="state-select">
                                    <option value="">Select State/Province</option>
                                </select>
                                </div>
                                </div>
                                <div class="col-sm-6 col-md-6 col-lg-3">
                                    <div class="form-group">
                                        <label id="postcode-label">Postal Code</label>
                                        <input type="text" class="form-control" name="postal_code">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Add a new address field for countries other than India -->
                        <div class="col-sm-12" id="address-extra-field">
                            <div class="form-group">
                                <label><img src="{{ url_for('static',filename='../static/assets/img/indian_flag.png')}}" height=25px width=25px  alt="Indian Flag" class="country-flag">&nbsp;Local Address</label>
                                <input type="text" class="form-control" name="additional_address">
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>Phone Number</label>
                                <div class="input-group">
                                  
                                    <span class="input-group-text" id="phone-code">+1</span>
                                    <input type="text" class="form-control" id="phone-input" name="phone">
                                </div>
                            
                  
                    </div>
                   
                    <div class="m-t-20 text-center">
                        <button class="btn btn-primary submit-btn">Create Patient</button>
                    </div>

                  
                </form>
                
            </div>
        </div>
    </div>

    </div>
    
   <div class="sidebar-overlay" data-reff=""></div>
   </div></form>
  

<script src="{{ url_for('static',filename='../static/assets/js/jquery-3.2.1.min.js')}}"></script>
<script src="{{ url_for('static',filename='../static/assets/js/popper.min.js')}}"></script>
<script src="{{ url_for('static',filename='../static/assets/js/bootstrap.min.js')}}"></script>
<script src="{{ url_for('static',filename='../static/assets/js/jquery.slimscroll.js')}}"></script>
<script src="{{ url_for('static',filename='../static/assets/js/Chart.bundle.js')}}"></script>
<script src="{{ url_for('static',filename='../static/assets/js/chart.js')}}"></script>
<script src="{{ url_for('static',filename='../static/assets/js/app.js')}}"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>


<script>
// JavaScript code to update state dropdown options based on selected country

// Define the state options for India

// JavaScript code to update state dropdown options based on selected country

const countryStates = {
"USA": [
    'California', 'Alaska', 'Alabama'
],
"United Kingdom": [
    'England', 'Scotland', 'Wales', 'Northern Ireland'
],
"India": [
    'Andhra Pradesh', 'Arunachal Pradesh', 'Assam', 'Bihar', 'Chhattisgarh', 'Goa', 'Gujarat',
    'Haryana', 'Himachal Pradesh', 'Jharkhand', 'Karnataka', 'Kerala', 'Madhya Pradesh',
    'Maharashtra', 'Manipur', 'Meghalaya', 'Mizoram', 'Nagaland', 'Odisha', 'Punjab',
    'Rajasthan', 'Sikkim', 'Tamil Nadu', 'Telangana', 'Tripura', 'Uttar Pradesh',
    'Uttarakhand', 'West Bengal'
],
// Add more countries and their respective states here
};

// Function to update state options based on the selected country
function updateStateOptions() {
const countrySelect = document.getElementById('country-select');
const stateSelect = document.getElementById('state-select');
const selectedCountry = countrySelect.value;

// Clear previous state options
stateSelect.innerHTML = '';

if (selectedCountry in countryStates) {
    // Add states for the selected country as options
    const states = countryStates[selectedCountry];
    for (let i = 0; i < states.length; i++) {
        const option = document.createElement('option');
        option.text = states[i];
        stateSelect.add(option);
    }
} else {
    // Add a default option for other countries
    const option = document.createElement('option');
    option.text = 'Select State/Province';
    stateSelect.add(option);
}
}

// Attach event listener to country dropdown
const countrySelect = document.getElementById('country-select');
countrySelect.addEventListener('change', updateStateOptions);

// Initial call to update state options based on the default country selection
updateStateOptions();




// JavaScript code to populate city dropdown based on selected country

const countryCities = {
    "USA": [
        'New York', 'Los Angeles', 'Chicago', 'Houston', 'Phoenix', 'Philadelphia', 'San Antonio'
    ],
    "United Kingdom": [
        'London', 'Birmingham', 'Manchester', 'Edinburgh', 'Glasgow', 'Bristol', 'Liverpool'
    ],
    "India": [
        'Mumbai', 'Delhi', 'Bangalore', 'Hyderabad', 'Chennai', 'Kolkata', 'Ahmedabad'
    ],
    // Add more countries and their respective cities here
};

// Function to populate city options based on the selected country
function populateCityOptions() {
    const countrySelect = document.getElementById('country-select');
    const citySelect = document.getElementById('city-select');
    const selectedCountry = countrySelect.value;

    // Clear previous city options
    citySelect.innerHTML = '';

    if (selectedCountry in countryCities) {
        // Add cities for the selected country as options
        const cities = countryCities[selectedCountry];
        for (let i = 0; i < cities.length; i++) {
            const option = document.createElement('option');
            option.text = cities[i];
            citySelect.add(option);
        }
    } else {
        // Add a default option for other countries
        const option = document.createElement('option');
        option.text = 'Select City';
        citySelect.add(option);
    }
}

// Attach event listener to country dropdown

countrySelect.addEventListener('change', populateCityOptions);

// Initial call to populate city options based on the default country selection
populateCityOptions();



 // Function to update label text based on the selected country
 function updateLabel() {
    const countrySelect = document.getElementById('country-select');
    const postcodeLabel = document.getElementById('postcode-label');
    const selectedCountry = countrySelect.value;

    if (selectedCountry === 'India') {
        postcodeLabel.innerText = 'Postal Code';
    } else {
        postcodeLabel.innerText = 'Zip Code';
    }
}

// Attach event listener to country dropdown

countrySelect.addEventListener('change', updateLabel);

// Initial call to update label text based on the default country selection
updateLabel();


// JavaScript code to show/hide additional address field based on selected country

// Function to show/hide additional address field based on the selected country
function toggleAdditionalAddressField() {
    const countrySelect = document.getElementById('country-select');
    const additionalAddressField = document.getElementById('address-extra-field');
    const selectedCountry = countrySelect.value;

    if (selectedCountry === 'India') {
        additionalAddressField.style.display = 'none';
    } else {
        additionalAddressField.style.display = 'block';
    }
}

// Attach event listener to country dropdown

countrySelect.addEventListener('change', toggleAdditionalAddressField);

// Initial call to show/hide additional address field based on the default country selection
toggleAdditionalAddressField();


// JavaScript code to populate phone number code based on selected country

// Object to map country codes to phone number codes
const phoneCodes = {
    'USA': '+1',
    'United Kingdom': '+44',
    'India': '+91',
    // Add more country codes as needed
};

// Function to update phone number code based on selected country
function updatePhoneCode() {
    const countrySelect = document.getElementById('country-select');
    const phoneCode = document.getElementById('phone-code');
    const selectedCountry = countrySelect.value;

    phoneCode.textContent = phoneCodes[selectedCountry];
}

// Attach event listener to country dropdown

countrySelect.addEventListener('change', updatePhoneCode);

// Initial call to populate phone number code based on the default country selection
updatePhoneCode();


// JavaScript code to generate a random password and toggle password visibility

// Function to generate a random password
function generatePassword() {
    const length = 10; // Desired password length
    const charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()'; // Characters to include in the password
    let password = '';

    for (let i = 0; i < length; i++) {
        const randomIndex = Math.floor(Math.random() * charset.length);
        password += charset.charAt(randomIndex);
    }

    return password;
}

// Function to display the generated password in the input field and label
function displayGeneratedPassword() {
    const passwordInput = document.getElementById('password-input');
    const passwordInfo = document.getElementById('password-info');
    const generatedPassword = generatePassword();

    passwordInput.value = generatedPassword;
    passwordInfo.textContent = 'Generated Password: ' + generatedPassword;
}

// Function to toggle password visibility
function togglePasswordVisibility() {
    const passwordInput = document.getElementById('password-input');
    const togglePasswordBtn = document.querySelector('.toggle-password-btn');
    const isPasswordVisible = passwordInput.type === 'text';

    passwordInput.type = isPasswordVisible ? 'password' : 'text';
    togglePasswordBtn.classList.toggle('active');
}

// Attach event listener to the "Generate Password" button
const generatePasswordBtn = document.querySelector('.generate-password-btn');
generatePasswordBtn.addEventListener('click', displayGeneratedPassword);

// Attach event listener to the toggle password button
const togglePasswordBtn = document.querySelector('.toggle-password-btn');
togglePasswordBtn.addEventListener('click', togglePasswordVisibility);

    // Get the input field
var dateOfBirthInput = document.getElementById('date_of_birth_input');

// Add event listener for input change
dateOfBirthInput.addEventListener('input', function(e) {
    // Remove any existing hyphens from the input value
    var cleanedValue = this.value.replace(/-/g, '');

    // Check if the cleaned value has a length greater than 2
    if (cleanedValue.length > 2) {
        // Insert hyphens at appropriate positions (e.g., dd-mm-yyyy)
        var formattedValue = cleanedValue.slice(0, 2) + '-' + cleanedValue.slice(2, 4) + '-' + cleanedValue.slice(4, 8);
    
        // Update the input value with the formatted value
        this.value = formattedValue;
    }
});


var dateOfBirthInput = document.getElementById('date_of_birth_input');

// Get the element to display formatted DOB
var dobFormatted = document.getElementById('dob_formatted');

// Add event listener for input change
dateOfBirthInput.addEventListener('input', function(e) {
// Remove any existing hyphens from the input value
var cleanedValue = this.value.replace(/-/g, '');

// Check if the cleaned value has a length greater than 2
if (cleanedValue.length > 2) {
    // Insert hyphens at appropriate positions (e.g., dd-mm-yyyy)
    var formattedValue = cleanedValue.slice(0, 2) + '-' + cleanedValue.slice(2, 4) + '-' + cleanedValue.slice(4, 8);
  
    // Update the input value with the formatted value
    this.value = formattedValue;
    
    // Format and display the DOB below the input field
    var dateObj = new Date(cleanedValue.slice(4, 8), parseInt(cleanedValue.slice(2, 4)) - 1, cleanedValue.slice(0, 2));
    var formattedDOB = dateObj.toLocaleString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
    dobFormatted.textContent = formattedDOB;
} else {
    // Clear the DOB display if the input is incomplete
    dobFormatted.textContent = '';
}
});


</script>



<!-- index22:59-->
</html>
